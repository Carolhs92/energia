<ion-content>
  <mat-toolbar color="primary" class="dashboard-header">
    <span>Facturas</span>
  </mat-toolbar>

  <ng-container *ngIf="facturas.data.length > 0; else noFacturas">
    <table mat-table [dataSource]="facturas" class="mat-elevation-z8">
      <!-- Nombre columna -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef> Nombre </th>
        <td mat-cell *matCellDef="let factura"> {{factura.nombre}} </td>
      </ng-container>

      <!-- Fecha de emisi贸n columna -->
      <ng-container matColumnDef="fecha_emision">
        <th mat-header-cell *matHeaderCellDef> Fecha de emisi贸n </th>
        <td mat-cell *matCellDef="let factura"> {{factura.fecha_emision | date:'dd/MM/yyyy'}} </td>
      </ng-container>

      <!-- Importe columna -->
      <ng-container matColumnDef="importe">
        <th mat-header-cell *matHeaderCellDef> Importe </th>
        <td mat-cell *matCellDef="let factura"> {{factura.importe | currency:'EUR'}} </td>
      </ng-container>

      <!-- Direcci贸n del suministro columna -->
      <ng-container matColumnDef="direccion_suministro">
        <th mat-header-cell *matHeaderCellDef> Direcci贸n de Suministro </th>
        <td mat-cell *matCellDef="let factura"> {{factura.direccion_suministro}} </td>
      </ng-container>

      <!-- Columna de descarga -->
      <ng-container matColumnDef="descargar">
        <th mat-header-cell *matHeaderCellDef> Descargar </th>
        <td mat-cell *matCellDef="let factura">
          <button mat-icon-button (click)="downloadPDF(factura.id)">
            <mat-icon>download</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Filas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</ng-container>

<ng-template #noFacturas>
  <p>No se encontraron facturas.</p>
</ng-template>
</ion-content>
